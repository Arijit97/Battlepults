
#include<simplecpp>
#include<conio.h>
#include<cstdio>
class Catapult
{public:
    double cx,cy,x1,y1,f;
    Circle C1;
    Rectangle *b;

    void fire()
        {Text t(500,500,"fire in the hole!!");
            Line l1(cx+20,cy,cx-20,cy)
               Circle C1(cx-50,cy,3);
        C1.setFill(1);
        double f1=f/10;
        repeat(10)
        {
            l1.rotate(-f/10);
        C1.moveTo(cx+20*cos(-f1),cy-20*sin(-f1)));
        f1=f1+f/10;
        
        
        double vx=15*sqrt(2.5*(abs(cx-x1)));
        double vy=sqrt(2*25*(abs(cy-y1)));
        C1.penDown();
        while(C1.getY()<=cy and C1.getX()<960)
            {
                        wait(0.01);
                    C1.move(vx/10,-vy/10);
                    vy-=9.8;
            }
        wait(10);
    }
   

void move()
{Text t(500,500,"Move the catapult(Or is it a ballista?) with left and right arrow keys, and press up when ready");


    while(true)
    {
        char a=getch();
        if(a=='M')
            {
                if(cx<980)
                {cx=cx+10;
                (*b).move(10,0);}
                else continue;
            }
        else if(a=='K')
            {
                if(cx>20)
                {cx=cx-10;
                (*b).move(-10,0);}
                else continue;
            }
        else if(a=='H')
            {
                break;
            }
    }
    t.hide();
    return;
}
        void create(double c1,double c2)
    {
        cx=c1;
        cy=c2;
        b = new Rectangle;
        *b=Rectangle(cx,cy,50,15);
       (*b).setColor(COLOR(0,255,0));
       (*b).setFill(1);
    }

    void canRotate()
                       {
                        f=(y1-cy)/(x1-cx);
                        return;
                   }
    void aim

Text t(500,500,"aiming");

     x1=getClick()/65536;
     y1=getClick()%65536;
     t.hide();
    canRotate();
    wait(2);
    fire();
}

};

